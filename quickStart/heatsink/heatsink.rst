.. _heatsink:

####################################
Red Pitaya heatsink interface setup
####################################

The heatsink interface is CNC machined from aluminium to match the profile of the STEMlab 125-14. It connects to the bottom of the STEMlab 125-14 and has additional holes to connect the interface (attached to the board) to a larger heatsink for even better heat dissipation.


Components
============

.. figure:: img/Heatsink_thermal_foam.png
    :align: center
    :width: 600

    Components of the Red Pitaya heatsink interface
    
Table of contents:
    * Heatsink interface
    * Dark grey thermal pad

Not included:
    * 4 M3x0.5 screws to fix the STEMlab 125-14 to the heatsink interface
    * 6 M3x0.5 screws to fix the heatsink interface to the external cooling surface
    * External heat sink

Heatsink interface dimensions:

.. figure:: img/Heatsink_measurements.png
    :align: center
    :width: 1000

    Dimensioned drawing of heatsink interface


Before the assembly
======================

Before starting the installation, please consider where the Red Pitaya with heatsink interface will be mounted. Depending on your setup, additional preparation may be required. For example, drilling holes in the metallic surface to which the assembly will be attached, or selecting a suitable external heatsink (with appropriate hole patterns).

If you have the Red Pitaya aluminium case, it is possible to attach the top of the aluminium case to the Red Pitaya with the heatsink interface. In this case, the four screws connecting the heatsink interface, the Red Pitaya board and the top of the aluminium case will have to be attached from underneath, so some additional planning may be required. If you decide to do this, please see the alternative instructions at the end.



Assembly instructions
======================

#. Remove the small plastic feet by pressing on the clips at the top with a small pair of pliers and pushing the feet down.
   
    .. figure:: img/rp_heatsink_remove_feet.jpg
        :align: center
        :width: 600
      
        The underside of the Red Pitaya board showing the plastic feet.

#. Repeat the process with the top heat sink, squeezing the clips together at the bottom and gently pushing the bracket upwards.

    .. figure:: img/rp_heatsink_remove_heatsink.jpg
        :align: center
        :width: 600
   
        The top of the Red Pitaya board with the heat sink removed.

#. Remove the rest of the thermal compound.
#. Place the heatsink interface in front of you.

    .. figure:: img/Heatsink_no_foam.png
        :align: center
        :width: 600

#. Use the dark grey thermal pad. This is a special thermal pad with protective film on both sides. Remove the protective film from the side facing the heat sink interface and attach it to the heat sink interface. Take care to remove the film from the correct side as the pad is not symmetrical. The interface should now look like this. The top side of the thermal pad will still have foil attached at this poin

    .. figure:: img/Heatsink_thermal_foam.png
        :align: center
        :width: 600

#. Remove the protective film from the top of the thermal pad.
#. Insert the Red Pitaya board into the heatsink interface, bottom side down. Make sure the holes on the board and the interface are aligned.

    .. figure:: img/Heatsink_side_view2.jpg
        :align: center
        :width: 600

#. Fit the four M3 screws that connect the Red Pitaya to the heatsink interface.
#. Turn the assembly over.

    .. figure:: img/Heatsink_side_view.jpg
        :align: center
        :width: 600

#. Attach the external heatsink and install the six M3 screws that connect the heatsink interface to the external heatsink.

    .. figure:: img/Heatsink_bottom_view.jpg
        :align: center
        :width: 600


Assembly with top side of aluminium case
=========================================

Follow the :ref:`aluminium case assembly instructions <alucase>` to assemble the aluminium case, up to step 8, or remove the screws if they are already there.

#. Remove the four screws.
#. Hold the aluminium case together with the Red Pitaya board and turn it upside down.
#. Remove the bottom part of the aluminium case.
#. Place the heat sink interface in front of you.

    .. figure:: img/Heatsink_no_foam.png
        :align: center
        :width: 600

#. Use the dark grey thermal pad. This is a special thermal pad with protective film on both sides. Remove the protective film from the side facing the heat sink interface and attach it to the heat sink interface. Take care to remove the film from the correct side as the pad is not symmetrical. The interface should now look like this. The top side of the thermal pad will still have foil attached at this point.

    .. figure:: img/Heatsink_thermal_foam.png
        :align: center
        :width: 600

#. Remove the protective film from the top of the thermal pad.
#. Use the heat sink interface and the top of the aluminium case to enclose the Red Pitaya board. Make sure the holes on the board, the interface and the top of the aluminium case are aligned.
#. Install four M3 screws to hold the assembly together. You may need to modify the external heat sink to fit the screw heads.

